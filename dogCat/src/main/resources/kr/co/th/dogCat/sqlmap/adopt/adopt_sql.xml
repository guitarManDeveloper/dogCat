<!DOCTYPE mapper
		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="adopt">
	<resultMap id="adoptVOMap" type="kr.co.th.dogCat.adopt.vo.AdoptVO">
		<id property="id" column="id"/>
		<id property="category" column="category"/>
		<id property="subject" column="subject"/>
		<id property="writer" column="writer"/>
		<id property="hit" column="hit"/>
		<id property="rdate" column="rdate"/>
		<id property="mdate" column="mdate"/>
		<id property="name" column="name"/>
		<id property="species" column="species"/>
		<id property="phone" column="phone"/>
		<id property="originalFileName" column="originalFileName"/>
	</resultMap>


	<select id='adoptList' parameterType="kr.co.th.dogCat.adopt.vo.AdoptVO" resultMap="adoptVOMap">
		SELECT * FROM ADOPT
		<if test='subject != null &amp;&amp;  !subject.equals("")'>
			WHERE subject LIKE CONCAT('%', #{subject}, '%')
		</if>
		ORDER BY id DESC
		limit #{offset}, #{pageSize}
	</select>
	
	<select id='selectAdoptTotalCnt' parameterType="kr.co.th.dogCat.adopt.vo.AdoptVO" resultType="int">
		SELECT COUNT(*) FROM ADOPT
		<if test='subject != null &amp;&amp;  !subject.equals("")'>
			WHERE subject LIKE CONCAT('%', #{subject}, '%')
		</if>
	</select>
	
	<select id="select_detail" parameterType="kr.co.th.dogCat.adopt.vo.AdoptVO" resultMap="adoptVOMap">
		SELECT * FROM ADOPT WHERE ADOPT.ID = #{id}
	</select>
	
	<delete id="delete" parameterType="hashMap">
		DELETE FROM ADOPT WHERE ID = #{id}
	</delete>

</mapper>    